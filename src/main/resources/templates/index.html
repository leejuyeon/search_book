
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />

<title>book search</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
</head>

<body>
	<nav class="nav-extended">
		<div class="nav-wrapper">
			<a href="/" class="brand-logo">Search Book <i
				class="material-icons">book</i></a> 
				
				
				<a href="login" sec:authorize="isAnonymous()"
				class="btn-floating btn-large halfway-fab waves-effect waves-light teal">
				<i class="material-icons">assignment_ind</i></a>
				
			<ul class="right hide-on-med-and-down"  sec:authorize="isAuthenticated()">
        <li><a class="waves-effect waves-light btn" th:text="${#authentication.principal.username}"></a></li>
      </ul>
		</div>
	</nav>
	
    
    
	<div class="container">
		<form>
			<div class="input-field">
				<input id="search" type="search" required> <label
					class="label-icon" for="search"><i class="material-icons">search</i></label>
				<i class="material-icons">close</i>
			</div>
		</form>
	</div>

	<div class="container">
		<ul class="collection" id="book-list">
			
		</ul>
 <ul class="pagination">
    <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
    <li class="active"><a href="#!">1</a></li>
    <li class="waves-effect"><a href="#!">2</a></li>
    <li class="waves-effect"><a href="#!">3</a></li>
    <li class="waves-effect"><a href="#!">4</a></li>
    <li class="waves-effect"><a href="#!">5</a></li>
    <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
  </ul>
            

	</div>


	<footer class="page-footer">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<h5 class="white-text">This is "Search Book" Application</h5>
					<p class="grey-text text-lighten-4" >use kakao API</p>
					
				</div>
				<div class="col l4 offset-l2 s12">
					<h5 class="white-text">Page Links</h5>
					<ul>
						<li><a class="grey-text text-lighten-3" href="/">INDEX</a></li>
						<li><a class="grey-text text-lighten-3" href="/join">JOIN</a></li>
						<li><a class="grey-text text-lighten-3" href="/login">LOGIN</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container">
				© 2019 By jylee <a class="grey-text text-lighten-4 right"
					href="/pdf/jylee_info.pdf">More Info</a>
			</div>
		</div>
	</footer>

	<script src="https://code.jquery.com/jquery-2.2.4.min.js"
		integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		
	
 
<script type="text/javascript">
$(document).ready(function() {
	
	$.ajax({ type: "GET", url: "/search/book", data: {keyword : "별의 정원"}, success: function(result){
		console.log(result);
		var listhtml = "";
		
		result.books.forEach(function(book){
			var bookhtml = '<li class="collection-item avatar">';
			bookhtml = bookhtml + (book.thumbnail == "" ? '<i class="material-icons circle">book</i>' : '<img src="' + book.thumbnail + '" alt="" class="circle">');
			bookhtml = bookhtml + '<span class="title">' + book.title +'</span> <p> <button data-target="modal1" class="btn-flat modal-trigger">detail</button></p> </li>';
			
			listhtml = listhtml + bookhtml;
		});
		
		console.log(listhtml);
		$("#book-list").html(listhtml);
		
		
	}, dataType: "json" }); 

     
    
});
	
	</script>
</body>
</html>